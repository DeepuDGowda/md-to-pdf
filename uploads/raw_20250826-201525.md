# Employment Details

## What is API Calls on the Salaried Employment Details?

This sequence of real-time API calls allows the system to build a verified profile of the salaried applicant at the earliest stage of the application journey.

The workflow for "Salaried" applicants triggers a series of API calls at key stages to gather and validate required information.

### Company Name Selection

    Field: "Select Your Company"

    User Action: The person starts typing or selects their company name.

    API Called: tkyc-api -> employerSearchByName

    Purpose: This API helps in searching for and validating the company name entered by the user.

### Profession Type Selection and Verification

    Field: "Profession Type"

    User Action: The person selects their profession type (e.g., Doctor, CA).
    Conditional API Calls:

    If "Doctor" is selected and verified:

        API Called: tkyc-api -> doctorVerification

        Purpose: This API verifies the doctor's credentials.

        Note: The rest of the fields related to the doctor's registration (Medical Council, Registration Year, Registration Number) will be filled by the person.

    If "CA" (Chartered Accountant) is selected and verified:

        API Called: tkyc-api -> CAMembershipAuthentication
        Purpose: This API authenticates the CA's membership.
        Note: The rest of the fields related to the CA's membership will be filled in by the person.
        
    For other professions: No specific profession verification API is mentioned; the person will fill in the remaining relevant details.

### Pincode and Location Details

    Field: "Pincode"

    User Action: The person enters the pincode of their company's location.
    API Called: IG-API -> pincodeDetailsByPincode.

    Purpose: This API fetches the city and state associated with the entered pincode.

    Result: The "City" and "State" fields on the page will be automatically populated based on the API response.

### Final Employment Profile Update

    Trigger: At the end of the employment detail page, after all relevant fields are filled.

    Primary API Called: IG-API -> employmentProfileUpdate

    Purpose: This is a comprehensive API call that updates all the employment-related information provided by the user.

    Subsequent API Calls (from employmentProfileUpdate):

        API 1: TKYC-API -> employmentVerificationAdvancedPanFlow

            Purpose: This API is called to update the EPFO (Employees' Provident Fund Organisation) flag.

            Storage: The EPFO flag is stored in BORROWER_EMPLOYMENT_HISTORY_TEXT_VARIABLE_35.

        API 2: TKYC-API -> companyMCA
            Purpose: This API is called to update the isEmployedGovt flag.

            Storage: The isEmployedGovt(Public/Private) flag is stored in BORROWER_EMPLOYMENT_HISTORY_TEXT_VARIABLE_36.

### Verification Flag Updates

Based on the verification results from the APIs, specific flags are updated:

    Employment Verification:
          Condition: If the person is verified as employed (i.e., the EPFO flag is true).
          Update: The isEmploymentVerified flag is set to true.
          Storage: This flag is stored in BORROWER_EMPLOYMENT_HISTORY_TEXT_VARIABLE_40.

    Profession Verification:
          Condition: If the person's doctor or CA verification is successful.
          Update: The corresponding profession verification flag is set to true.
          Storage: This flag is stored in BORROWER_EMPLOYMENT_HISTORY_TEXT_VARIABLE_42.
          
All other employment-related fields that are not covered by the specific flags above are updated through the employmentProfileUpdate API.
