# Operation object components of openAPI

The major componets are:

- Parameters
- requestBody
- responsesBody

## Parameters

It define the inputs an API operation can accept, other than the body payload.
They specify how clients can send values to an endpoint.

In OpenAPI, you can declare parameters for each operation (get, post, etc.) or reuse them via components/parameters.

### Types of parameters

| Parameter Location | `in:` value | Example                |
| ------------------ | ----------- | ---------------------- |
| Query parameter    | `query`     | `/users?limit=10`      |
| Path parameter     | `path`      | `/users/{id}`          |
| Header parameter   | `header`    | `X-Request-ID: abc123` |
| Cookie parameter   | `cookie`    | Sent as HTTP cookie    |

### Example

    parameters:
        # Path parameter
        - name: id
          in: path
          description: Unique identifier for the user
          required: true
          schema:
            type: integer

        # Query parameter
        - name: expand
          in: query
          description: Additional related data to include
          required: false
          schema:
            type: string
            enum: [posts, settings]

        # Header parameter
        - name: X-Request-ID
          in: header
          description: Optional request ID for tracing
          required: false
          schema:
            type: string

        # Cookie parameter
        - name: session_id
          in: cookie
          description: Session identifier
          required: false
          schema:
            type: string

### Parameter Attributes

| Field         | Description                                      |
| ------------- | ------------------------------------------------ |
| `name`        | Name of the parameter                            |
| `in`          | Location: `query`, `path`, `header`, or `cookie` |
| `required`    | `true` or `false`                                |
| `description` | Optional explanation                             |
| `schema`      | Data type, constraints, enums                    |
| `example`     | Example value                                    |
| `deprecated`  | Mark a parameter as deprecated                   |

### Best practices of parameters

    ✅ Only path parameters must always be required: true.

    ✅ Keep header and cookie params optional unless absolutely necessary.

    ✅ Describe how each parameter affects the response in description.

## requestBody

In OpenAPI, the requestBody describes the content of the HTTP request body that clients send to the API.

It can specify:

    Content type(s) supported (application/json, multipart/form-data, etc.)

    Schema of the body

    Examples of the body

It’s not a parameter, because it isn’t sent in the query/path/header/cookie — it’s the actual body of the HTTP request.

### Examples

    post:
      summary: Create a new user
      description: Creates a new user record in the system.
      requestBody:
        description: User data to create
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Full name of the user
                email:
                  type: string
                  format: email
                  description: Email address of the user
                age:
                  type: integer
                  description: Age of the user
              required:
                - name
                - email
            example:
              name: John Doe
              email: john.doe@example.com
              age: 30

### Attributes

| Field         | Description                                       |
| ------------- | ------------------------------------------------- |
| `description` | Optional text explaining what the request body is |
| `required`    | `true` or `false`                                 |
| `content`     | Defines media types and schema(s)                 |
| `example`     | Single example of a valid body                    |
| `examples`    | Multiple named examples (optional)                |

### Typical case of requestBody

| HTTP Method | Use of Body                             |
| ----------- | --------------------------------------- |
| `POST`      | Create a new resource                   |
| `PUT`       | Replace a resource                      |
| `PATCH`     | Partially update a resource             |
| `DELETE`    | Rare, but can send a body in some cases |

### Best practices of requestBody

    ✅ Always set required: true if the endpoint fails without a body.

    ✅ Use $ref to reuse schemas and avoid duplication.

    ✅ Include examples in your spec to help consumers understand the payload format.

    ✅ Use proper media types (JSON is standard for REST APIs).

## responseBody

The responses object defines all possible HTTP responses for an operation, keyed by status code.
  
      Status code (200, 400, 404, 500, etc.)
      Data format (application/json, application/xml, etc.)
      Schema of the response data
      Example(s) of response data
      
### Example's

    responses:
        '200':
          description: User found
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    example: 1258
                  name:
                    type: string
                    example: David J
                  email:
                    type: string
                    example: davidjxyz@gmail.com
              example:
                id: 123
                name: John Doe
                email: john.doe@example.com
        '404':
          description: User not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              example:
                error: User with id 1258 not found

### Key Fields of responseBody

| Field         | Description                                         |
| ------------- | --------------------------------------------------- |
| `description` | Mandatory short text about what this response means |
| `content`     | Media type(s) and body schema                       |
| `headers`     | Optional — response headers                         |

### Best practices of responsesBody

    ✅ Always document common status codes: 200, 201, 400, 401, 404, 500.

    ✅ Include an example for every response type.

    ✅ Use clear, human-readable description.

    ✅ Define error formats (standard error response schema).
